<!DOCTYPE html>
<html>
<head>
<link rel="Stylesheet" type="text/css" href="../../../../style.css">
<title>Ê¹ÓÃMap</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>

<div id="ä»åœ°å›¾æ–‡ä»¶å†…åŠ è½½ä¸€ä¸ªmap"><h2 id="ä»åœ°å›¾æ–‡ä»¶å†…åŠ è½½ä¸€ä¸ªmap">ä»åœ°å›¾æ–‡ä»¶å†…åŠ è½½ä¸€ä¸ªmap</h2></div>
<ul>
<li>
ä½¿ç”¨ OSG æ’ä»¶åŠ è½½ earth æ–‡ä»¶
<pre c++>
osg::Node* globe = osgDB::readNodeFile("myglobe.earth");
</pre>

<ul>
<li>
ä¸€èˆ¬éƒ½éœ€è¦ä½¿ç”¨è¯¥å‡½æ•°è°ƒç”¨, é™¤éä½ é€šè¿‡ä»£ç åˆ›å»º Map

</ul>
</ul>

<div id="é€šè¿‡ä»£ç åˆ›å»º Map"><h2 id="é€šè¿‡ä»£ç åˆ›å»º Map">é€šè¿‡ä»£ç åˆ›å»º Map</h2></div>
<ul>
<li>
æ­¥éª¤å¦‚ä¸‹:

<ul>
<li>
åˆ›å»ºä¸€ä¸ª Map å¯¹è±¡

<li>
ç»™ Map æ·»åŠ å›¾åƒå’Œ elevation å±‚

<li>
åˆ›å»ºä¸€ä¸ª MapNode ç”¨äºæ¸²æŸ“ Map å¯¹è±¡

<li>
ä½ çš„åœºæ™¯å›¾æ·»åŠ  MapNode

</ul>
<li>
å®ç°å¦‚ä¸‹
<pre c++>
using namespace osgEarth;
using namespace osgEarth::Drivers;

#include &lt;osgEarth/Map&gt;
#include &lt;osgEarth/MapNode&gt;
#include &lt;osgEarthDrivers/tms/TMSOptions&gt;
#include &lt;osgEarthDrivers/gdal/GDALOptions&gt;

using namespace osgEarth;
using namespace osgEarth::Drivers;
...

// Create a Map and set it to Geocentric to display a globe
Map* map = new Map();

// Add an imagery layer (blue marble from a TMS source)
{
    TMSOptions tms;
    tms.url() = "http://labs.metacarta.com/wms-c/Basic.py/1.0.0/satellite/";
    ImageLayer* layer = new ImageLayer( "NASA", tms );
    map-&gt;addImageLayer( layer );
}

// Add an elevationlayer (SRTM from a local GeoTiff file)
{
    GDALOptions gdal;
    gdal.url() = "c:/data/srtm.tif";
    ElevationLayer* layer = new ElevationLayer( "SRTM", gdal );
    map-&gt;addElevationLayer( layer );
}

// Create a MapNode to render this map:
MapNode* mapNode = new MapNode( map );
...

viewer-&gt;setSceneData( mapNode );
</pre>

</ul>
<div id="è¿è¡Œæ—¶ä½¿ç”¨ MapNode"><h1 id="è¿è¡Œæ—¶ä½¿ç”¨ MapNode">è¿è¡Œæ—¶ä½¿ç”¨ MapNode</h1></div>
<ul>
<li>
MapNode æ˜¯æ¸²æŸ“ Map çš„ scene graph node.

<li>
å¯ä»¥è¿è¡Œæ—¶è®¿é—® Map å’Œå…¶ MapNode ä»¥ä¾¿æ”¹å˜

<li>
å¦‚æœä½ æ²¡æœ‰æ˜¾ç¤ºåˆ›å»º MapNode, å¯èƒ½éœ€è¦ä½¿ç”¨é™æ€çš„ get å‡½æ•°å¾—åˆ° MapNode çš„å¼•ç”¨
<pre c++>
// Load the map
osg::Node* loadedModel = osgDB::readNodeFile("mymap.earth");

// Find the MapNode
osgEarth::MapNode* mapNode = MapNode::get( loadedModel );
</pre>

<li>
æ ¹æ® MapNode è·å– map 
<pre c++>
// Add an OpenStreetMap image source
TMSOptions driverOpt;
driverOpt.url() = "http://tile.openstreetmap.org/";
driverOpt.tmsType() = "google";

ImageLayerOptions layerOpt( "OSM", driverOpt );
layerOpt.profile() = ProfileOptions( "global-mercator" );

ImageLayer* osmLayer = new ImageLayer( layerOpt );
mapNode-&gt;getMap()-&gt;addImageLayer( osmLayer );
</pre>

<li>
ç§»é™¤æˆ–é‡æ’åº layers
<pre c++>
// Remove a layer from the map.  All other layers are repositioned accordingly
mapNode-&gt;getMap()-&gt;removeImageLayer( layer );

// Move a layer to position 1 in the image stack
mapNode-&gt;getMap()-&gt;moveImageLayer( layer, 1 );}}}
</pre>

<li>
å¯ä»¥ä¿®æ”¹ layer çš„å±æ€§
<pre c++>
ImageLayer* layer;
...
layer-&gt;setOpacity( 0.5 );  // makes the layer partially transparent
</pre>

</ul>

</body>
</html>
