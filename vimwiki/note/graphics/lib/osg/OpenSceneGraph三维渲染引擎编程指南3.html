<!DOCTYPE html>
<html>
<head>
<link rel="Stylesheet" type="text/css" href="../../../../style.css">
<title>OpenSceneGraphÈıÎ¬äÖÈ¾ÒıÇæ±à³ÌÖ¸ÄÏ3</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>

<ul>
<li>
3å¤§åŸºæœ¬ç±»èŠ‚ç‚¹: Node, Geode, Group

<li>
è·å–èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹æŒ‡é’ˆ, getParent()

<li>
Billboard

<ul>
<li>
æœ‰ä¸‰ç§æ¨¡å¼: POINT_ROT_EYE, POINT_ROT_WORLD, AXIAL_ROT

</ul>
<li>
osg::PositionAttitudeTransform æ˜¯ä¸€ä¸ªä½ç½®å˜æ¢èŠ‚ç‚¹, æä¾›æ¨¡å‹çš„ä½ç½®å˜æ¢, å¤§å°ç¼©æ”¾, åŸç‚¹ä½ç½®ä»¥åŠåæ ‡ç³»å˜æ¢

<ul>
<li>
ä¸»è¦æ–¹æ³•: setPosition, getPosition, setAttitude, getAttituede, setScale, getScale, setPivotPoint, getPivotPoint(åŸç‚¹)

</ul>
<li>
osg::MatrixTransform

<ul>
<li>
ä¸»è¦æ–¹æ³•: setMatrix, preMult, postMult, getInverseMatrix.

</ul>
<li>
osg::AutoTransform ç»§æ‰¿è‡ª osg::Transform, ä½¿èŠ‚ç‚¹è‡ªåŠ¨å¯¹é½äºæ‘„åƒæœºæˆ–å±å¹•, ç”¨äºæ˜¾ç¤ºä¸å˜åŒ–çš„æ–‡å­—æˆ–è€…å…¶ä»–æ ‡è¯†

<ul>
<li>
ä¸‰ç§å¯¹é½æ¨¡å¼: NO_ROTATION, RATATE_TO_SCREEN, ROTATE_TO_CAMERA.

</ul>
<li>
osg::Switch å¼€å…³èŠ‚ç‚¹, å¯ä»¥æœ‰é€‰æ‹©çš„è¿›è¡Œæ¸²æŸ“, å¦‚æœæƒ³è¦å®ç°å…è®¸æˆ–è€…ç¦æ­¢å„ç§å¼€å…³èŠ‚ç‚¹çš„æ¸²æŸ“, éœ€è¦è°ƒç”¨èŠ‚ç‚¹æ›´æ–°å›è°ƒæˆ–è€…èŠ‚ç‚¹è®¿é—®å™¨æ¥æ§åˆ¶å…¶æ¸²æŸ“çŠ¶æ€

<ul>
<li>
ä¸»è¦æˆå‘˜å‡½æ•°æœ‰: 

<ul>
<li>
setNewChildDefaultValue() --- æ–°åŠ èŠ‚ç‚¹çš„åˆå§‹å€¼

<li>
getNewChildDefaultValue()

<li>
setValue(unsigned int pos, bool value) // è®¾ç½®ç´¢å¼•ä¸º pos çš„å€¼

<li>
getValue(unsigned int pos) const;

<li>
setChildValue()

<li>
getChildValue()

<li>
setAllChildrenOff()

<li>
setAllChildrenOn()

<li>
setSingleChildOn()

</ul>
</ul>
<li>
å½“ä¸€ä¸ªç‰©ä½“è¿›å…¥ä¸é€æ˜çš„é›¾åŒ–åŒºåŸŸæ—¶, å®Œå…¨å¯ä»¥ä¸ç”¨ç»˜åˆ¶ç‰©ä½“, å’ŒLODä¸€èµ·ä½¿ç”¨.

<ul>
<li>
osg::LOD æœ‰ä¸¤ä¸ªæ´¾ç”Ÿç±», åˆ†åˆ«ä¸º osg::PagedLOD, osgSim::Imposter

<li>
LOD è®¡ç®—è§†ç‚¹åˆ°ç‰©ä½“åŒ…å›´ç›’ä¸­å¿ƒçš„è·ç¦»æ¥ç¡®å®š LOD, è¿˜å¯ä»¥æ ¹æ®å±å¹•åƒç´ å¤§å°æ¥åˆ‡æ¢
<pre c++>
enum CenterMode
{
	USE_BOUNDING_SPHERE_CENTER,
	USER_DEFINED_CENTER
}
enum RnageMode
{
	DISTANCE_FROM_EYE_POINT,
	PIXEL_SIZE_ON_SCREEN
}
</pre>

</ul>
<li>
osg::PagedLOD --- å®ç°åŠ¨æ€åˆ†é¡µåŠ è½½, æ ¹æ®è§†ç‚¹æ¥åŠ è½½æ‰€éœ€è¦çš„, è¯¥èŠ‚ç‚¹è¿˜å¯ä»¥åŒ…å« LOD èŠ‚ç‚¹, å…¶ä¸ osg::LOD èŠ‚ç‚¹çš„åŒºåˆ«åœ¨äº, osg::LOD èŠ‚ç‚¹å­˜åœ¨äºä¸€ä¸ªæ–‡ä»¶ä¹‹ä¸­, osg::PagedLOD çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯ç£ç›˜ä¸­çš„æ–‡ä»¶, å¯ä»¥æ ¹æ®éœ€è¦æ¥åŠ è½½è¿™äº›æ–‡ä»¶, åŠ è½½è¿‡ç¨‹ä¸­æœ‰å•ç‹¬çš„çº¿ç¨‹è´Ÿè´£å®æ—¶è°ƒåº¦åŠåŠ è½½.

<ul>
<li>
åˆ†é¡µç»†èŠ‚å±‚æ¬¡ä¸»è¦æ˜¯ç”¨æ¥å¤„ç†å¤§è§„æ¨¡çš„æ•°æ®, åœ¨åœ°å½¢å’Œ GIS æ–¹é¢æœ‰å¹¿æ³›çš„åº”ç”¨. å¯ä»¥æŠŠæ¨¡å‹è¿›è¡Œé¢„å¤„ç†, åœ¨æ¸²æŸ“åœºæ™¯æ—¶, å†æ ¹æ®éœ€è¦æ¥å®æ—¶åŠ è½½éœ€è¦çš„æ•°æ®ä»¥åŠå¸è½½æ— ç”¨çš„æ•°æ®.

<li>
osg::LOD èŠ‚ç‚¹å­˜åœ¨äºä¸€ä¸ªæ–‡ä»¶ä¸­, è€Œ PagedLOD èŠ‚ç‚¹åªæä¾›ç´¢å¼•çš„ä½œç”¨, æ¯ä¸ª LOD èŠ‚ç‚¹å­˜åœ¨äºç£ç›˜æ–‡ä»¶ä¸­, ä½†ä¸æŠŠæ–‡ä»¶å­˜åœ¨äºä¸€ä¸ªæ–‡ä»¶ä¸­.

</ul>
<li>
æ›¿ä»£èŠ‚ç‚¹

<ul>
<li>
osgSim::impostor ç»§æ‰¿è‡ª osg::LOD èŠ‚ç‚¹, ä¹Ÿæ˜¯ä¸€ç§å¸ƒå‘Šæ¿, é€šè¿‡ä»å½“å‰è§†ç‚¹å°†ä¸€ä¸ªå¤æ‚ç‰©ä½“å¯¹è±¡ç»˜åˆ¶åˆ°ä¸€å¹…å›¾åƒçº¹ç†ä¸Šåˆ›å»ºçš„, å…¶ä¸­æ¸²æŸ“çš„å›¾åƒçº¹ç†æ˜ å°„åˆ°å¸ƒå‘Šæ¿ä¸Š.

<li>
æˆå‘˜å‡½æ•°: setImpostorThreshold(float distance)

</ul>
<li>
ç›®å‰é®æŒ¡è£å‰ªç®—æ³•ä¸»è¦æœ‰ä¸¤ç§: åˆ†åˆ«æ˜¯åŸºäºç‚¹çš„é®æŒ¡å’ŒåŸºäºå•å…ƒçš„é®æŒ¡è£å‰ª.

<ul>
<li>
åŸºäºç‚¹çš„å¯è§æ€§: ä»å•ä¸ªè§†ç‚¹ä½ç½®çœ‹åˆ°æ‰€æœ‰çš„ç‰©ä½“.

<li>
åŸºäºå•å…ƒçš„å¯è§æ€§: é’ˆå¯¹ä¸€ä¸ªæ–¹ä½“æˆ–è€…åœ†ä½“å•å…ƒè¿›è¡Œå¯è§æ€§åˆ¤æ–­.

</ul>
<li>
osg::OccluderNode ä¸»è¦é‡‡ç”¨çš„æ˜¯åŸºäºç‚¹çš„é®æŒ¡ç®—æ³•, ä½†èŠ‚ç‚¹æœ¬èº«ä¸å…·å¤‡é®æŒ¡èƒ½åŠ›, å› æ­¤, åœ¨åˆ¤æ–­æ—¶éœ€è¦æŒ‡å®šä¸€ä¸ªè€…å½“é¢: void setOccluder(ConvexPlanarOccluder* occluder)

<li>
åæ ‡ç³»èŠ‚ç‚¹: osg::CoordinateSystemNode, æ˜¯ä¸€ä¸ªåœºæ™¯çš„å¯¹è±¡å…³è”ä¸€ä¸ªåæ ‡ç³»ç»Ÿ, å¸¸ç”¨åæ ‡ç³»ç»Ÿæœ‰ WKT, PROJ4, USGS, é€šå¸¸ä¸ osg::EllipsoidModel èŠ‚ç‚¹ä¸€èµ·ä½¿ç”¨. osg::EllipsoidModel èŠ‚ç‚¹ä¸»è¦ç”¨æ¥æ¨¡æ‹Ÿå¤©ä½“. osg::EllipsoidModel èŠ‚ç‚¹è¿˜æœ‰ä¸€ä¸ªä½œç”¨æ˜¯å®ç°ç»çº¬åº¦ä¸åæ ‡ä¹‹é—´çš„è½¬æ¢.

<ul>
<li>
WKT åæ ‡ç³»

</ul>
</ul>


<div id="ç¬¬4ç«  OSGä¸­å‡ ä½•ä½“çš„ç»˜åˆ¶ "><h1 id="ç¬¬4ç«  OSGä¸­å‡ ä½•ä½“çš„ç»˜åˆ¶ ">ç¬¬4ç«  OSGä¸­å‡ ä½•ä½“çš„ç»˜åˆ¶ </h1></div>
<ul>
<li>
osg::Vec2, osg::Vec3, osg::Vec4 ç”¨äºä¿å­˜çº¹ç†åæ ‡, é¡¶ç‚¹, æ³•çº¿, é¢œè‰²

<li>
ä½¿ç”¨é¡¶ç‚¹ç´¢å¼•å¯¹è±¡ osg::DrawElementsUInt ä¿å­˜é¡¶ç‚¹ç´¢å¼•, ä½¿ç”¨é¢œè‰²ç´¢å¼• osg::TemplateIndexeArray ä¿å­˜é¢œè‰²

<li>
Drawable ç±»æ˜¯ä¸€ä¸ªæŠ½è±¡ç±», å…¶æ´¾ç”Ÿç±»æœ‰:

<ul>
<li>
osg::DrawPixels, osg::Geometry, osg::ShapeDrawable, osgParticle::ParticleSystem, osgParticle::PrecipitationEffect::PrecipitationDrawable, osgShadow::OccluderGeometry, osgShadow::ShadowVolumeGeometry, osgSim::ImpostorSprite, osgText::TextBase

<li>
osg::DrawPixels ç±»(ä¸»è¦å°è£…äº† OpenGL ä¸­ glDrawPixels() çš„åŠŸèƒ½)

<li>
osg::Geometry ç±»(ç»˜åˆ¶å‡ ä½•ä½“çš„ç±»)

<li>
osg::ShapeDrawable(å°è£…äº†ä¸€äº›å·²ç»å®šä¹‰å¥½çš„å‡ ä½•ä½“, ä¸éœ€è¦åæ ‡å³å¯ç›´æ¥è°ƒç”¨, å¦‚é•¿æ–¹ä½“, æ­£æ–¹ä½“, çƒä½“ç­‰)

</ul>
<li>
osg::PrimitiveSet ç±»ç»§æ‰¿è‡ª osg::Object è™šåŸºç±», å…¶æ´¾ç”Ÿç±»æœ‰ osg::DrawArrayLengths, osg::DrawArrays, osg::DrawElements, è€Œä» osg::DrawElements æ´¾ç”Ÿ osg::DrawElementsUByte, osg::DrawElementsUnit, osg::DrawElementsUShort

<ul>
<li>
å°è£…äº† opengl çš„ç»˜å›¾åŸºå…ƒ, å¦‚ç‚¹, ä¸‰è§’å½¢

</ul>
<li>
DrawArrays çš„åŸºæœ¬ç”¨æ³•: osg::DrawArrays::DrawArrays(GLenum mode, GLint first, GLsizei count);

<li>
osg::Geometry ç±»æœ‰ä¸‰å¤§ç±»æ–¹æ³•

<ul>
<li>
æŒ‡å®šå‘é‡æ•°æ®, é€šè¿‡å¦‚ä¸‹å‡½æ•°å®ç°

<ul>
<li>
void setVertexArray(Array* array)	// è®¾ç½®é¡¶ç‚¹æ•°ç»„

<li>
void setVertexData(const ArrayData&amp; arrayData)  // è®¾ç½®é¡¶ç‚¹æ•°ç»„æ•°æ®

<li>
void setVertexIndices(IndexArray* array)	// è®¾ç½®é¡¶ç‚¹ç´¢å¼•æ•°ç»„

<li>
void setNormalArray(Array* array) // è®¾ç½®æ³•çº¿æ•°ç»„

<li>
void setNormalData(const ArrayData&amp; arrayData)	// è®¾ç½®æ³•çº¿æ•°ç»„æ•°æ®

<li>
void setColorArray(Array* array)	// è®¾ç½®é¢œè‰²æ•°ç»„

<li>
void setColorIndices(IndexArray* array)	// è®¾ç½®é¢œè‰²ç´¢å¼•æ•°ç»„

<li>
void setColorData(const ArrayData&amp; arrayData)	// è®¾ç½®é¢œè‰²æ•°ç»„æ•°æ®

<li>
void setTexCoordArray(unsigned int uint, Array* array)	// è®¾ç½®é¢œè‰²æ•°ç»„, ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯çº¹ç†å•å…ƒ

<li>
void setTexCoordData(unsigned int index, const ArrayData&amp; arrayData)	// è®¾ç½®é¢œè‰²æ•°ç»„æ•°æ®

<li>
void setTexCoordIndices(unsigned int unit, IndexArray* array)	// è®¾ç½®é¢œè‰²ç´¢å¼•æ•°ç»„

</ul>
<li>
è®¾ç½®ç»‘å®šæ–¹å¼, æ•°æ®ç»‘å®šä¸»è¦æœ‰ä¸¤é¡¹, æ³•çº¿å’Œé¢œè‰²

<ul>
<li>
void setNormalBinding(AttributeBinding ab):

<li>
void setColorBinding(AttributeBinding ab):

<li>
ä¸»è¦ç»‘å®šæ–¹å¼: BIND_OFF, BIND_OVERALL, BIND_PER_PRIMITIVE_SET, BIND_PER_PRIMITIVE, BIND_PER_VERTEX

</ul>
<li>
æ•°æ®è§£æ, é‡‡ç”¨ä½•ç§æ–¹å¼æ¸²æŸ“å‡ ä½•ä½“

<ul>
<li>
bool addPrimitiveSet(PrimitiveSet* primitiveset)

</ul>
</ul>
<li>
ç»˜åˆ¶å¹¶æ¸²æŸ“å‡ ä½•ä½“ä¸»è¦æœ‰å¦‚ä¸‹3å¤§æ­¥éª¤:

<ul>
<li>
åˆ›å»ºå„ç§å‘é‡æ•°æ®

<li>
å®ä¾‹åŒ–ä¸€ä¸ªå‡ ä½•ä½“å¯¹è±¡

<li>
åŠ å…¥å¶èŠ‚ç‚¹å¹¶æ¸²æŸ“

</ul>
<li>
å¸¸ç”¨çš„å‡ ä½•ä½“æœ‰

<ul>
<li>
osg::Box

<li>
osg::Capsule

<li>
osg::Cone

<li>
osg::Cylinder

<li>
osg::HeightField

<li>
osg::InfinitePlane

<li>
osg::Sphere

<li>
osg::TriangleMesh

<li>
è¦æ¸²æŸ“è¿™äº›å‡ ä½•ä½“, å…¶å¿…é¡»è¦ä¸ osg::Drawable å…³è”, å¯ä»¥ä½¿ç”¨ osg::Drawable ç±»çš„æ´¾ç”Ÿç±» osg::ShapeDrawable 

</ul>
<li>
ç½‘æ ¼åŒ–ç±» osg::TessellationHints

<ul>
<li>
é¢„å®šä¹‰å‡ ä½•ä½“å¯¹è±¡çš„ç²¾ç»†ç¨‹åº¦, å¯¹åœ†æŸ±, åœ†é”¥éƒ½å¾ˆæœ‰æ„ä¹‰

<li>
å¯ç»†åˆ†çš„å‡ ä½•ä½“å¯¹è±¡: Box, Capsule, Cone, Cylinder, Sphere

</ul>
<li>
å‡¹å¤šè¾¹å½¢æˆ–è‡ªäº¤å‰å¤šè¾¹å½¢åˆ†è§£ä¸ºç®€å•å‡¸å¤šè¾¹å½¢çš„è¿‡ç¨‹, ç§°ä¹‹ä¸ºå¤šè¾¹å½¢çš„åˆ†æ ¼åŒ–

<li>
å¤šè¾¹å½¢åˆ†æ ¼åŒ–çš„ç±» osgUtil::Tessellator

<ul>
<li>
è¿™éƒ¨åˆ†ç•¥è¿‡

</ul>
<li>
å¸¸è§çš„å‡ ä½•ä½“æ“ä½œ, ç”¨äºæé«˜æ€§èƒ½å’Œæ¸²æŸ“æ•ˆç‡, ä¸»è¦åŒ…æ‹¬ osgUtil::Simplifier(ç®€åŒ–), osgUtil::SmoothingVisitor(ç”Ÿæˆæ³•çº¿), osgUtil::DelaunayTriangulator(ä¸‰è§’åŒ–å·¥å…·), osgUtil::TriStripVisitor(æ¡å¸¦åŒ–)

<li>
osgUtil::Simplifier ç»§æ‰¿è‡ª osg::NodeVistor ç±», é€šè¿‡è®¿é—®å™¨çš„æ–¹å¼éå†å‡ ä½•ä½“å¹¶å¯¹å…¶è¿›è¡Œç®€åŒ–å¤„ç†

<ul>
<li>
ä¸»è¦ä¸¤ä¸ªæ–¹é¢çš„å‚æ•°

<ul>
<li>
å½“å‡ ä½•ä½“æ ·æœ¬æ¯”ç‡å°äº 1 æ—¶, è®¾ç½®ç‚¹çš„è¯¯å·®é™åˆ¶

<li>
å½“å‡ ä½•ä½“æ ·æœ¬æ¯”ç‡å¤§äº 1 æ—¶, è®¾ç½®è¾¹çš„é•¿åº¦é™åˆ¶

</ul>
<li>
æ ·æœ¬æ¯”ç‡è¶Šå¤§, ç®€åŒ–è¶Šå°‘, æ ·æœ¬æ¯”ç‡è¶Šå°, ç®€åŒ–è¶Šå¤š
<pre c++>
virtual void apply(osg::Geode&amp; geode) // åº”ç”¨äºå¶èŠ‚ç‚¹
void simplify(osg::Geometry &amp;geometry) // ç®€åŒ–å‡ ä½•ä½“
</pre>

<li>
è¿™ä¸¤ä¸ªå‡½æ•°åŒæ ·å¯ç”¨äº osg::Node èŠ‚ç‚¹, ä¸è¿‡, å…³è”å®ä¾‹æ—¶éœ€è¦ä½¿ç”¨ accept() æ–¹æ³•

<li>
osgUtil::Simplifier ç®€åŒ–é‡‡ç”¨çš„æ˜¯è¾¹å¡Œé™·ç®—æ³•

</ul>
<li>
osgUtil::DelaunayTriangulator ç±»

<ul>
<li>
åˆ›å»ºç‹„æ´›å°¼ä¸‰è§’ç½‘æœ‰å¦‚ä¸‹3ä¸ªæ­¥éª¤:

<ul>
<li>
åˆ›å»ºé¡¶ç‚¹æ•°ç»„

<li>
åˆ›å»ºä¸€ä¸ª osgUtil::DelaunayTriangulator å¯¹è±¡, å¹¶åˆå§‹åŒ–é¡¶ç‚¹æ•°ç»„, åŒæ—¶ç”Ÿæˆä¸‰è§’ç½‘, bool triangulate()

<li>
åˆ›å»ºä¸€ä¸ªå‡ ä½•ä½“å¯¹è±¡, æŠŠ osgUtil::DelaunayTriangulator ç±»å¯¹è±¡ç”Ÿæˆçš„ç»˜åˆ¶å›¾å…ƒåŠ å…¥åˆ°å‡ ä½•ä½“ä¸­. è¿˜å¯ä»¥åŠ å…¥ä¸€äº›é™åˆ¶æ¡ä»¶, é™åˆ¶æ¡ä»¶å¯ä»¥æ˜¯ç‚¹, çº¿æˆ–å¤šè¾¹å½¢

<ul>
<li>
void addInputConstraint(DelaunayConstraint *dc) // æ·»åŠ é™åˆ¶æ¡ä»¶

</ul>
</ul>
</ul>
<li>
ä¸‰è§’å¸¦ç»˜åˆ¶, osgUtil::TriStripVisitor ç±»ç»§æ‰¿è‡ª osgUtil::BaseOptimizerVisitor ç±». æˆå‘˜å‡½æ•°:

<ul>
<li>
void stripify(osg::Geometry &amp;drawable) // æ¡å¸¦åŒ–å‡ ä½•ä½“

<li>
virtual void apply(ost::Geode &amp;geode) // åº”ç”¨äºå¶èŠ‚ç‚¹

<li>
ä¸‰è§’å½¢å¸¦çš„æ•°é‡åº”è¯¥å°½å¯èƒ½å°‘

</ul>
<li>
osgUtil::SmoothingVisitor ç±»ç»§æ‰¿è‡ª osg::NodeVisitor ç±», ç”Ÿæˆé¡¶ç‚¹æ³•å‘é‡

</ul>

<div id="ç¬¬5ç«  æ¸²æŸ“çŠ¶æ€, çº¹ç†ä¸å…‰ç…§ "><h1 id="ç¬¬5ç«  æ¸²æŸ“çŠ¶æ€, çº¹ç†ä¸å…‰ç…§ ">ç¬¬5ç«  æ¸²æŸ“çŠ¶æ€, çº¹ç†ä¸å…‰ç…§ </h1></div>
<ul>
<li>
osg çš„æ¸²æŸ“çŠ¶æ€è¿˜å¯ä»¥æŒ‡å®šç€è‰²å™¨

<li>
osg::StateSet ç±»æ´¾ç”Ÿè‡ª osg::Referenced, å…¶å¯ä»¥å…³è”åˆ°ä»»ä¸€èŠ‚ç‚¹(Node)æˆ–å…³è”åˆ°Drawableç±»

<li>
å°½é‡ä½¿åœºæ™¯å›¾å½¢çš„ SateSet æœ€å°‘åŒ–

<li>
OSG å°†æ¸²æŸ“çŠ¶æ€åˆ†æˆä¸¤ä¸ªéƒ¨åˆ†, åˆ†åˆ«ä¸ºæ¸²æŸ“å±æ€§(Attribute)å’Œæ¸²æŸ“æ¨¡å¼(Mode). æ¨¡å¼å¯ä»¥æ§åˆ¶æŸä¸ªåŠŸèƒ½çš„å¼€å¯å’Œç¦ç”¨.

<li>
ä» Node æˆ– Drawable å¯¹è±¡ä¸­è·å–ä¸€ä¸ª StateSet å®ä¾‹

<ul>
<li>
osg::StateSet* state = obj-&gt;getOrCreateStateSet();

<li>
åœ¨ stateset ä¸­è®¾ç½®æ¨¡å¼å’Œå±æ€§

</ul>
<li>
OSG ä¸ºæ¯ä¸ªçŠ¶æ€å±æ€§å®šä¹‰äº†ä¸åŒçš„ç±», æ‰€æœ‰çš„å±æ€§ç±»å‡ç»§æ‰¿è‡ª osg::StateAttribute, osg::StateAttribute <a href="æ˜¯æ— æ³•ç›´æ¥å®ä¾‹åŒ–çš„è™šåŸºç±».html">æ˜¯æ— æ³•ç›´æ¥å®ä¾‹åŒ–çš„è™šåŸºç±»</a>

<ul>
<li>
OSG å°†æ‰€æœ‰çš„å±æ€§å’Œæ¨¡å¼åˆ†ä¸ºä¸¤å¤§éƒ¨åˆ†, åˆ†åˆ«ä¸ºçº¹ç†å’Œéçº¹ç†

<li>
è®¾ç½®æ¸²æŸ“å±æ€§: å°†éœ€è¦ä¿®æ”¹çš„å±æ€§ç±»å®ä¾‹åŒ–, è€Œåè®¾ç½®è¯¥ç±»çš„æ•°å€¼
<pre c++>
osg::StateSet* state = geom-&gt;getOrCreateStateSet();
osg::CullFace* cf = new osg::CullFace(osg::CullFace::BACK);
state-&gt;setAttribute(cf):
</pre>

<li>
è®¾ç½®æ¸²æŸ“æ¨¡å¼, osg::StateSet::setMode() è®¾ç½®å…è®¸æˆ–ç¦æ­¢æŸç§æ¨¡å¼.
<pre c++>
osg::StateSet* state = geom-&gt;getOrCreateStateSet();
state-&gt;setMode(GL_FOG,osg::StateAttribute::ON);
</pre>

<li>
osg::StateSet::setAttributeAndModes() åŒæ—¶è®¾ç½®å±æ€§å’Œæ¨¡å¼
<pre c++>
osg::BlendFunc* bf = new osg::BlendFunc();
state-&gt;setAttributeAndModes(bf);
</pre>

<li>
çŠ¶æ€ç»§æ‰¿ç‰¹æ€§

<ul>
<li>
osg::StateAttribute::OVERRIDE: æ‰€æœ‰çš„å­èŠ‚ç‚¹éƒ½å°†ç»§æ‰¿è¿™ä¸€å±æ€§æˆ–æ¨¡å¼, å­èŠ‚ç‚¹å¯¹å®ƒä»¬çš„ä¿®æ”¹å°†æ— æ•ˆ

<li>
ost::StateAttribute::PROTECTED: ä¸å—çˆ¶èŠ‚ç‚¹çš„å½±å“, æ¯”å¦‚å…‰æºç¦æ­¢å…‰ç…§.

<li>
osg::StateAttribute::INHERIT: å¼ºåˆ¶ç»§æ‰¿çˆ¶èŠ‚ç‚¹çš„æ¸²æŸ“çŠ¶æ€

</ul>
</ul>
<li>
çº¹ç†åæ ‡ WrapParameter, WrapMode, FilterParameter, FilterMode, Mode(æ˜ å°„æ¨¡å¼), Mode(åæ ‡ç”Ÿæˆæ¨¡å¼), Coord(åæ ‡), InternalFormatMode(å†…éƒ¨æ ¼å¼)

<li>
åˆ›å»ºäºŒç»´çº¹ç†çš„æ­¥éª¤å¦‚ä¸‹:

<ul>
<li>
æŒ‡å®šç”¨æˆ·å‡ ä½•ä½“çš„çº¹ç†åæ ‡

<li>
åˆ›å»ºçº¹ç†å±æ€§å¯¹è±¡å¹¶ä¿å­˜çº¹ç†å›¾å½¢æ•°æ®

<li>
ä¸º StateSet è®¾ç½®åˆé€‚çš„çº¹ç†å±æ€§å’Œæ¨¡å¼

</ul>
<li>
è®¾ç½®çº¹ç†åæ ‡
<pre c++>
osg::ref_ptr&lt;osg::Geometry&gt; geom = new osg::Geometry;
osg::ref_ptr&lt;osg::Vec2Array&gt; tc = new osg::Vec2Array;
geom-&gt;setTexCoordArray(0, tc.get()); // ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºçº¹ç†å•å…ƒå·`
tc-&gt;push_back(osg::Vec2(0.0f, 0.0f);
tc-&gt;push_back(osg::Vec2(1.0f, 0.0f);
tc-&gt;push_back(osg::Vec2(1.0f, 1.0f);
tc-&gt;push_back(osg::Vec2(0.0f, 1.0f);
</pre>

<li>
osg::Image è¯»å–å›¾åƒ, setFileName æ–¹æ³•è¯»å–å›¾åƒ, å°† Image å…³è”åˆ° Texture2D å³å¯. ä½¿ç”¨ setImage() å³å¯è¿›è¡Œå…³è”, setUnRefImageDataAfterApply() å¯ä»¥é‡Šæ”¾å†…éƒ¨çš„å›¾åƒ.
<pre c++>
osg::ref&lt;osg::Image&gt; image = new osg::Image;
image-&gt;setFileNmae("tree.rgb");
</pre>

<li>
osg::Texture2D å±äº osg::StateAttribute çš„æ´¾ç”Ÿç±», ç”¨äºç®¡ç† OpenGL çº¹ç†å¯¹è±¡
<pre c++>
osg::ref&lt;osg::Texture2D&gt; tex = new osg::Texture2D;
tex-&gt;setImage(image.get());
</pre>

<ul>
<li>
è§£é™¤å¯¹ Image å¼•ç”¨çš„æ–¹æ³•, ä»¥èŠ‚çœå†…å­˜
<pre c++>
tex-&gt;setUnRefImageDataAfterApply(true);
</pre>

</ul>
<li>
osg::StateSet::setTextureAttribute() å°†ä¸€ä¸ªçº¹ç†å±æ€§å…³è”åˆ° StateSet å¯¹è±¡, ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºçº¹ç†å•å…ƒ, ç¬¬äºŒä¸ªå‚æ•°æ˜¯ç»§æ‰¿è‡ª StateAttribute ç±»çš„ä¸€ç§çº¹ç†å±æ€§, å³ 1D, 2D ä¹‹ç±», æ¯”å¦‚ osg::Texture2D å¯¹è±¡
<pre c++>
osg::ref&lt;osg::Texture2D&gt; tex = new osg::Texture2D;
state-&gt;setTextureAttribute(0, tex.get());
</pre>

<li>
osg::StateSet::setTextureMode() è®¾ç½®æè´¨æ¸²æŸ“æ¨¡å¼, ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯çº¹ç†å•å…ƒ
<pre c++>
// ç¦ç”¨çº¹ç†å•å…ƒ1çš„äºŒç»´çº¹ç†
state-&gt;setTextureMode(1, GL_TEXTURE_2D, osg::StateAttribute::OFF);
</pre>

<li>
osg::StateSet::setTextureAttributesAndModes();
<pre c++>
osg::ref&lt;osg::Texture2D&gt; tex = new osg::Texture2D;
// è®¾ç½®ç¬¬0ä¸ªçº¹ç†å•å…ƒçš„çº¹ç†å¹¶å¼€å¯.
state-&gt;setTextureAttributeAndModes(0, tex);
</pre>

<li>
è‡ªåŠ¨ç”Ÿæˆçº¹ç†åæ ‡: OBJECT_LINEAR, EYE_LINEAR, SPHERE_MAP, NORMAL_MAP, REFLECTION_MAP

<li>
ç«‹æ–¹ä½“çº¹ç† osg::TextureCubeMap

<li>
åˆ›å»ºçƒä½“å¤©ç©ºç›’çš„ä¸»è¦æ­¥éª¤å¦‚ä¸‹:

<ul>
<li>
åˆ›å»ºç«‹æ–¹å›¾çº¹ç†å¯¹è±¡

<li>
è®¾ç½®è‡ªåŠ¨ç”Ÿæˆçº¹ç†åæ ‡

<li>
è®¾ç½®çº¹ç†çŸ©é˜µ

<li>
è®¾ç½®ç«‹æ–¹å›¾çº¹ç†

<li>
è®¾ç½®çŸ©é˜µå˜æ¢èŠ‚ç‚¹, ä»¥å®ç°åˆé€‚çš„çŸ©é˜µå˜æ¢

<li>
å…³é—­å…‰ç…§å¹¶å…³é—­èƒŒé¢å‰”é™¤, è®¾ç½®æ¸²æŸ“é¡ºåº, åŠ å…¥åˆ°å¶èŠ‚ç‚¹ä¸­ç»˜åˆ¶

</ul>
</ul>

<div id="ç¬¬6ç«  æ–‡ä»¶çš„è¯»å†™ "><h1 id="ç¬¬6ç«  æ–‡ä»¶çš„è¯»å†™ ">ç¬¬6ç«  æ–‡ä»¶çš„è¯»å†™ </h1></div>
<ul>
<li>
osgDB::DatabasePager, å¯ä»¥åœ¨ä¸å¹²æ‰°å½“å‰æ¸²æŸ“çš„æƒ…å†µä¸‹åå°ä»æ•°æ®åº“è¯»å–å„éƒ¨åˆ†ä¿¡æ¯.

<li>
æ‰‹åŠ¨æ·»åŠ æ–‡ä»¶è·¯å¾„åˆ—è¡¨çš„ä¸¤ä¸ªæ–¹æ³•:

<ul>
<li>
è¿˜å¯ä»¥æ·»åŠ æ–‡ä»¶è·¯å¾„åˆ—è¡¨, osgDB::getDataFilePathList(), setDataFilePathlist()
<pre c++>
osgDB::FilePathList pathList = osgDB::getDataFilePathList();
pathList.push_back("..."):
pathList.push_back("..."):
osgDB::setDataFilePathList(pathList);
</pre>

<li>
osgDB::Registry::instance()-&gt;get()
<pre>
osgDB::Registry::instance()-&gt;getDataFilePathList().push_back(newPath);
</pre>

</ul>
<li>
æ–‡ä»¶è¯»å–å¤±è´¥çš„æ—¶å€™, å¯ä»¥é€šè¿‡è®¾ç½®è°ƒè¯•ä¿¡æ¯ NOTIFY æ¥ç¡®å®š.

<li>
æ–‡ä»¶çš„è¯»å–
<pre c++>
osg::ref_ptr&lt;osg::Node&gt; node = osgDB::readNodeFile("cow.osg");
osg::ref_ptr&lt;osg::Image&gt; image = osgDB::readImageFile("lz.rgb"):
</pre>

<li>
æ–‡ä»¶çš„ä¿å­˜
<pre c++>
osgDB::writeNodeFile(*node, "saved.osg");
</pre>

<li>
c++ æµç¼“å†²çš„æ¦‚å¿µ

<ul>
<li>
iostream æœ‰3ç§å½¢å¼çš„ç¼“å†²

<ul>
<li>
ä¸å¸¦ç¼“å†²åŒº, ç±»ä¼¼äº fwrite

<li>
ç©ºé—´è‡ªåŠ¨ç®¡ç†çš„ç¼“å†²åŒº, ä¸‹ä¸€ä¸ªå¯å†™ä½ç½®æ€»æ˜¯ä¸ºæœ«è¾¹ç•Œ+1

<li>
å¤–ç½®çš„ç¼“å†²åŒº, å¦‚å®šä¹‰å±€éƒ¨å­—ç¬¦ä¸²æ•°ç»„, å¹¶å°†æ­¤åŒºåŸŸä¼ é€’ç»™ iostream

</ul>
<li>
å…·ä½“çš„ç¼“å†²ç”± basic_streambuf åŠå…¶æ´¾ç”Ÿç±»è´Ÿè´£, å¦‚ basic_filebuf, basic_stringbuf. basic_istream å’Œ basic_ostream éƒ½æ˜¯ basic_streambuf çš„å‹å…ƒç±»

<li>
basic_iostream åŒ…å«äº†ä¸€ä¸ª basic_streambuf çš„æ´¾ç”Ÿç±»çš„å®ä¾‹, å¯ä»¥é€šè¿‡ basic_iostream çš„æˆå‘˜å‡½æ•° rdbuf() æ¥è·å–, å¹¶é€šè¿‡æ„é€ å‡½æ•°ä¼ å…¥.

<li>
æµæ“ä½œç¬¦ "&lt;&lt;" å®é™…ä¸Šæ˜¯é€šè¿‡è°ƒç”¨ basic_streambuf çš„ç›¸å…³æ“ä½œå®ç°çš„.

<li>
å¦‚æœæƒ³è¦æ§åˆ¶æ ‡å‡†è¾“å…¥/è¾“å‡ºæµçš„ç¼“å†²åŒºè¡Œä¸º, éœ€è¦ç”Ÿæˆè‡ªå·±çš„ basic_streambuf æ´¾ç”Ÿç±», å¹¶ç”Ÿæˆè¯¥ç±»çš„å¯¹è±¡, ä¼ é€’ç»™æ ‡å‡†è¾“å…¥/è¾“å‡ºæµ.

<li>
åœ¨ OSG æ”¯æŒçš„æ–‡ä»¶ä¸­, åªæœ‰ .osg, .ive ä»¥åŠä¸€äº›å›¾åƒæ–‡ä»¶æ”¯æŒæµæ“ä½œ, éƒ½å¯ä»¥ç”¨æ•°æ®æµæ“ä½œæ¥æ˜¾ç¤ºè¯»å–è¿›åº¦.

<li>
æ‰€æœ‰çš„ osgDB æ’ä»¶éƒ½å¯ä»¥ä½¿ç”¨ osgDB::readNodeFile(), osgDB::writeNodeFile() å’Œ osgDB::readImageFile() ä¹‹ç±»çš„å‡½æ•°æ¥æ‰§è¡Œæ–‡ä»¶çš„è¯»å–å’Œå†™å…¥æ“ä½œ, å…¶ä¸­ä¸€äº›æ’ä»¶è¿˜å…è®¸ä½¿ç”¨æ ‡å‡†æ•°æ®æµæ¥æ‰§è¡Œä¸€äº›ä½å±‚çº§çš„æ“ä½œ, å¦‚ä»ç”¨æˆ·è‡ªå®šä¹‰çš„æ•°æ®æµä¸­è¯»å†™æ•°æ®.

<li>
æ ¹æ® STL, ç”¨æˆ·å¯ä»¥ç¼–å†™è‡ªå®šä¹‰çš„æ•°æ®æµç¼“å­˜ç±»æ¥è·Ÿè¸ª uflow() æ–¹æ³•, ä»è€Œè·å–å½“å‰è¯»å…¥çš„å­—èŠ‚æ•°

<li>
æŒ‰ç…§å¦‚ä¸‹çš„æ­¥éª¤æ¥è¯»å–æ–‡ä»¶

<ol>
<li>
ç»™å‡ºæ–‡ä»¶å, å¹¶æœç´¢ç”¨äºè¯»å–è¯¥æ–‡ä»¶çš„æ’ä»¶, ä¹Ÿå°±æ˜¯è°ƒç”¨ osgDB::Registry::instance()-&gt;getReaderWriterForExtension(), æ ¹æ®æ–‡ä»¶æ‰©å±•åå‚æ•°, è¿”å› osgDB::ReaderWriter å¯¹è±¡

<li>
åˆ›å»ºè‡ªå®šä¹‰æ•°æ®æµç¼“å­˜ç±»çš„å®ä¾‹, å°†æ–‡ä»¶åä¼ é€’ç»™ç±»çš„æ„é€ å‡½æ•°, æ­¤æ—¶å‡½æ•°å°†æŒ‰ç…§ç±»ä¼¼äº standard std::basic_filebuf&lt;&gt; çš„æ–¹æ³•æ‰“å¼€æ–‡ä»¶

<li>
é€šè¿‡è‡ªå®šä¹‰ç±»çš„å®ä¾‹åˆ›å»º std::istream å¯¹è±¡

<li>
è°ƒç”¨æ­¥éª¤(1)è·å–çš„ ReaderWriter å¯¹è±¡çš„ readNode() æ–¹æ³•, å¹¶å°†æ­¥éª¤(3) åˆ›å»ºçš„ istream å¯¹è±¡ä½œä¸ºå…¶è¾“å…¥å‚æ•°. æ­¤æ—¶ OSG å°†è¯»å…¥æ–‡ä»¶, åŒæ—¶è°ƒç”¨è‡ªå®šä¹‰ç±»çš„ uflow() æ–¹æ³•, è¯¥æ–¹æ³•å°†è´Ÿè´£æ˜¾ç¤ºè¯»å…¥å­—èŠ‚çš„è¿›åº¦ä¿¡æ¯.

</ol>
</ul>
<li>
OSG_LIBRARY_PATH è®¾ç½®æ’ä»¶æœç´¢è·¯å¾„, æœç´¢ osgdb_&lt;name&gt;.dll è¿™æ ·çš„æ’ä»¶

<li>
osgDB::Registry çš„æ„é€ å‡½æ•°å®ç°äº†æ‰©å±•åçš„æ˜ å°„è¡¨å¯¹åº”ä¸åŒçš„æ–‡ä»¶æ ¼å¼å’Œæ”¯æŒæ­¤ç±»æ ¼å¼çš„æ’ä»¶

<li>
OSG é€šè¿‡èŒè´£é“¾çš„è®¾è®¡æ¨¡å¼å®ç°æ’ä»¶çš„æŸ¥æ‰¾, æŸ¥æ‰¾æ­¥éª¤å¦‚ä¸‹:

<ul>
<li>
æœç´¢å·²æ³¨å†Œçš„æ’ä»¶åˆ—è¡¨(osgDB::Registry å†…)

<li>
æ ¹æ®ä¹‹å‰çš„å‘½åè§„åˆ™åˆ›å»ºæ’ä»¶æ–‡ä»¶çš„åç§°, å¹¶å°è¯•è¯»å–æ’ä»¶åº“, å¦‚æˆåŠŸ, åˆ™æ·»åŠ æ’ä»¶åˆ°å·²æ³¨å†Œæ’ä»¶åˆ—è¡¨ä¸­

<li>
å›åˆ°æ­¥éª¤1, å¦‚è¯»å–IOå¤±è´¥, åˆ™è¿”å›å¤±è´¥ä¿¡æ¯.

</ul>
<li>
osgArchive æ˜¯ OSG çš„ä¸€ä¸ªå¼ºæ‚çš„æ‰“åŒ…å·¥å…·, é€šè¿‡å¯¹ osgArchive.cpp æºç è¿›è¡Œå­¦ä¹ , å…¶æœ‰ 11 ä¸ªæ­¥éª¤, è§ PDF.

<li>
è‡ªå®šä¹‰æ’ä»¶ è§ PDF, æ’ä»¶è¯»å†™ç±»ç»§æ‰¿è‡ª osgDB::<a href="ReaderWriter.html">ReaderWriter</a>

<li>
è¯»å–çŠ¶æ€ ReadStatus, å†™å…¥çŠ¶æ€ WriteStatus, OSGA ArchiveStatus

<li>
æ’ä»¶æ³¨å†Œéœ€è¦å®šä¹‰å…¨å±€å˜é‡ 
<pre c++>
REGISTER_OSGPLUGIN(VR, ReaderWriterVR)
</pre>

<li>
åº”ç”¨ç¨‹åºä¸­æ³¨å†Œæ’ä»¶
<pre c++>
osgDB::Registry::instance()-&gt;addFileExtensionAlias("VR", "VR");
</pre>

<li>
ä¸­æ–‡è·¯å¾„é—®é¢˜

<li>
osgEXP å¯¼å‡ºå·¥å…·

</ul>

</body>
</html>
